# 面向对象编程

## 封装、继承、多态

```python
class Person(object):
    def __init__(self, name, age):
        self.name = name
        self.age = age
    def print_name(self):
        print self.name
```

## 组合与继承

优先使用组合（has a）而非继承(is a)

## 类变量和实例变量的区别

- 类变量由所有实例共享
- 实例变量由实例单独享有，不同实例之间不影响
- 当我们需要在一个类的不同实例之间共享变量的时候使用类变量

## classmethod/staticmethod区别

- 都可以通过Class.method()的方式使用
- classmethod第一个参数是cls，可以引用类变量
- staticmethod使用起来和普通函数一样，只不过放在类里去组织

```python
class Person(object):
    Country = 'china'
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def print_name(self):
        print self.name

    @classmethod
    def print_country(cls):
        print(cls.Country)

    @staticmethod
    def join_name(first_name, last_name):
        return last_name + first_name
```

## 什么是元类

元类是创建类的类

- 元类允许我们控制类的生成，比如修改类的属性等
- 使用type来定义元类
- 元类最常见的一个使用场景就是ORM框架
- __new__用来生成实例，__init__用来初始化实例

例子：

``` python

# 元类继承自type
class LowercaseMeta(type):
    """ 修改类的书写名称为小写的元类"""
    def __new__(mcs, name, bases, attrs):
        lower_attrs = {}
        for k, v in attrs.items():
            if not k.startswith('__'):
                lower_attrs[k.lower()] = v
            else:
                lower_attr[k] =v
        return type.__new__(mcs, name, bases, lower_attrs)

class LowercaseClass(metaclass=LowercaseMeta):
    BAR = True

    def Hello(self):
        print('hello')

print(dir(LowercaseClass))

LowercaseClass().hello()
```

参考链接:

https://www.cnblogs.com/huchong/p/8260151.html#_label0
很详细的解释了call, init, new, 元类等知识